<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Donghwi 💜 Dahi LoveStory</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap');
*{margin:0;padding:0;box-sizing:border-box;font-family:'Quicksand',sans-serif;}
:root{
--bg-primary:#fff5f8;
--text-primary:#4a2c2a;
--accent-1:#ff7aa2;
--accent-2:#ffb6c1;
--glass:rgba(255,255,255,0.4);
}
body{background-color:var(--bg-primary);color:var(--text-primary);overflow-x:hidden;}

.loader{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--bg-primary);display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:9999;}
.loader-text{font-size:2rem;font-weight:600;opacity:0;color:var(--accent-1);}

.cursor,.cursor-follower{position:fixed;pointer-events:none;z-index:9999;transform:translate(-50%,-50%) rotate(-45deg);}
.cursor{width:20px;height:20px;background:var(--accent-1);box-shadow:0 0 20px var(--accent-2);}
.cursor-follower{width:40px;height:40px;background:var(--accent-2);opacity:0.4;z-index:9998;border-radius:50%;}

#background-canvas{position:fixed;top:0;left:0;z-index:-1;}

.nav{position:fixed;top:20px;width:90%;left:50%;transform:translateX(-50%);padding:15px;background:rgba(255,255,255,0.7);backdrop-filter:blur(10px);border-radius:20px;display:flex;justify-content:space-between;align-items:center;z-index:100;}
.logo{font-size:1.3rem;font-weight:700;background:linear-gradient(to right,var(--accent-1),var(--accent-2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.nav-links{display:flex;gap:30px;}
.nav-link{color:var(--text-primary);text-decoration:none;font-weight:500;position:relative;padding:5px 0;}
.nav-link::after{content:'';position:absolute;bottom:0;left:0;width:0;height:2px;background:linear-gradient(to right,var(--accent-1),var(--accent-2));transition:width 0.3s ease;}
.nav-link:hover::after{width:100%;}

.hero{min-height:100vh;display:flex;align-items:center;justify-content:center;text-align:center;padding:0 10vw;margin-top:0;}
.hero-title{font-size:clamp(3rem,7vw,6rem);margin-bottom:20px;}
.hero-description{font-size:1.3rem;opacity:0.8;margin-bottom:40px;}

section{padding:100px 10vw;}
.section-title{font-size:2.5rem;text-align:center;margin-bottom:40px;background:linear-gradient(to right,var(--accent-1),var(--accent-2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.gallery,#secretPhotos{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;}
.gallery img,.gallery video,#secretPhotos img{width:100%;border-radius:15px;box-shadow:0 4px 15px rgba(0,0,0,0.2);transition:transform 0.3s ease;}
.gallery img:hover,.gallery video:hover,#secretPhotos img:hover{transform:scale(1.05);}

.trip{cursor:pointer;display:inline-block;transition: transform 0.15s ease, opacity 0.15s ease;}
.trip:hover{transform:translateY(-1px);opacity:0.85;}
.trip.done{text-decoration:line-through;opacity:0.6;}

.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:none;justify-content:center;align-items:center;z-index:2000;}
.modal-content{background:#fff;padding:20px;border-radius:15px;max-width:500px;text-align:center;}
.modal img{width:100%;border-radius:10px;margin-bottom:15px;}
.close-btn{margin-top:10px;padding:8px 15px;border:none;background:var(--accent-1);color:#fff;border-radius:10px;cursor:pointer;}
.promise{text-align:center;font-size:1.2rem;line-height:1.8;}

#secretPage{text-align:center;display:none;}
#numPad{margin-top:20px;}
.num-btn{padding:15px;font-size:1.5rem;border-radius:10px;border:2px solid var(--accent-1);background:var(--bg-primary);color:var(--text-primary);cursor:pointer;transition:all 0.2s;}
.num-btn:hover{background:var(--accent-2);color:#fff;transform:scale(1.1);}
</style>
</head>
<body>
<div class="cursor"></div>
<div class="cursor-follower"></div>

<div class="loader">
<div class="loader-text">동휘와 다희의 Love Story💜</div>
</div>

<canvas id="background-canvas"></canvas>

<nav class="nav">
<div class="logo">Donghwi 💜 Dahi</div>
<div class="nav-links">
<a href="#home" class="nav-link">Home</a>
<a href="#moments" class="nav-link">Our Moments</a>
<a href="#love" class="nav-link">Our Trips</a>
<a href="#promise" class="nav-link">Promise</a>
<a href="#secretPage" class="nav-link">Secret</a>
</div>
</nav>

<section class="hero" id="home">
<div>
<h1 class="hero-title">Donghwi 💜 Dahi</h1>
<p class="hero-description">사랑스러운 순간들을 기록하는 공간</p>
</div>
</section>

<section id="moments">
<h2 class="section-title">Our Moments</h2>
<div class="gallery" id="momentsGallery"></div>
</section>

<section id="love">
<h2 class="section-title">What We Love</h2>
<div class="promise">
<span class="trip done" data-trip="gyeongju">💜 경주 25.09.08 ~ 25.09.09</span><br>
<span class="trip" data-trip="jeju">💜 제주도</span><br>
<span class="trip" data-trip="japan">💜 일본</span><br>
<span class="trip" data-trip="chuncheon">💜 춘천</span><br>
<span class="trip" data-trip="daejeon">💜 대전</span><br>
<span class="trip" data-trip="geoje">💜 거제도</span><br>
</div>
</section>

<section id="promise">
<h2 class="section-title">Promise</h2>
<div class="promise">
앞으로도 언제나 서로의 편이 되어주고,<br>
작은 순간 하나까지도 소중히 간직하자 💫<br>
앞으로도 쭉 사랑해 다히야💜
</div>
</section>

<div class="modal" id="tripModal">
<div class="modal-content">
<h3 id="tripTitle"></h3>
<img id="tripImage" src="" alt="">
<p id="tripNote"></p>
<button class="close-btn" onclick="closeModal()">Close</button>
</div>
</div>

<section id="secretPage">
<h2 class="section-title">Secret Page 🔒</h2>
<div id="secretPhotos"></div>
</section>

<script>
let secretUnlocked = false;

window.addEventListener('load', ()=>{
// 로딩 애니메이션
gsap.to('.loader-text',{opacity:1,duration:1,yoyo:true,repeat:1});
gsap.to('.loader',{opacity:0,delay:2,duration:1,onComplete:()=>{document.querySelector('.loader').style.display='none';}});

// Our Moments 갤러리
const momentsFiles=['1.mp4','2.jpg','3.jpg','4.jpg'];
const gallery=document.getElementById('momentsGallery');
momentsFiles.forEach(file=>{
    let el;
    if(file.endsWith('.mp4')){
        el=document.createElement('video');
        el.src=file;
        el.autoplay=true;
        el.loop=true;
        el.muted=true;
        el.playsInline=true;
        el.controls=true;
    }else{
        el=document.createElement('img');
        el.src=file;
    }
    gallery.appendChild(el);
});

// Secret 이미지
const secretImages=['s1.jpg','s2.jpg','s3.jpg','s4.jpg','s5.jpg','s6.jpg','s7.jpg','s8.jpg'];
const secretContainer=document.getElementById('secretPhotos');
secretImages.forEach(img=>{
    const el=document.createElement('img');
    el.src=img;
    el.alt=img;
    secretContainer.appendChild(el);
});
});

// 커서
const cursor=document.querySelector('.cursor');
const follower=document.querySelector('.cursor-follower');
document.addEventListener('mousemove',e=>{
gsap.to(cursor,{x:e.clientX,y:e.clientY,duration:0.1});
gsap.to(follower,{x:e.clientX,y:e.clientY,duration:0.3});
});

// 3D 배경
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
const renderer=new THREE.WebGLRenderer({canvas:document.querySelector('#background-canvas'),alpha:true});
renderer.setSize(window.innerWidth,window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);

const particlesGeometry=new THREE.BufferGeometry();
const particlesCount=3000;
const posArray=new Float32Array(particlesCount*3);
for(let i=0;i<particlesCount*3;i++){posArray[i]=(Math.random()-0.5)*5;}
particlesGeometry.setAttribute('position',new THREE.BufferAttribute(posArray,3));
const particlesMaterial=new THREE.PointsMaterial({size:0.01,color:0xff7aa2});
const particlesMesh=new THREE.Points(particlesGeometry,particlesMaterial);
scene.add(particlesMesh);
camera.position.z=3;

function animate(){requestAnimationFrame(animate);particlesMesh.rotation.x+=0.0005;particlesMesh.rotation.y+=0.0005;renderer.render(scene,camera);}
animate();
window.addEventListener('resize',()=>{
camera.aspect=window.innerWidth/window.innerHeight;
camera.updateProjectionMatrix();
renderer.setSize(window.innerWidth,window.innerHeight);
});

// 여행 모달
const trips={
gyeongju:{title:"Gyeongju",image:"bbd/1.jpg",note:"우리가 함께간 첫 여행✈️"},
jeju:{title:"Jeju Island",image:"bbd/2.jpg",note:"아직 준비 중인 여행 ✈️"},
japan:{title:"Japan",image:"bbd/3.jpg",note:"아직 준비 중인 여행 ✈️"},
chuncheon:{title:"Chuncheon",image:"bbd/4.jpg",note:"아직 준비 중인 여행 ✈️"},
daejeon:{title:"Daejeon",image:"bbd/5.jpg",note:"아직 준비 중인 여행 ✈️"},
geoje:{title:"Geoje",image:"bbd/6.jpg",note:"아직 준비 중인 여행 ✈️"}
};

document.querySelectorAll('.trip').forEach(trip=>{
trip.addEventListener('click',()=>{
const key=trip.getAttribute('data-trip');
if(!trips[key]) return;
document.getElementById('tripTitle').innerText=trips[key].title;
document.getElementById('tripImage').src=trips[key].image;
document.getElementById('tripNote').innerText=trips[key].note;
document.getElementById('tripModal').style.display='flex';
});
});
function closeModal(){document.getElementById('tripModal').style.display='none';}

// Secret 페이지 비밀번호
document.querySelector('.nav-link[href="#secretPage"]').addEventListener('click',e=>{
e.preventDefault();
if(secretUnlocked){
document.getElementById('secretPage').style.display='block';
document.getElementById('secretPage').scrollIntoView({behavior:'smooth'});
return;
}
const userInput=prompt("Secret 페이지 비밀번호를 입력하세요 🔒");
if(userInput==="0427"){
secretUnlocked=true;
document.getElementById('secretPage').style.display='block';
document.getElementById('secretPage').scrollIntoView({behavior:'smooth'});
}else{
alert("비밀번호가 틀렸습니다 😢");
}
});
</script>
</body>
</html>
